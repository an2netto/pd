#N struct main float n float x float y array circle-l point array poly-l
pnt;
#N struct point float x float y float pa float na float color float
v;
#N struct pnt float x float y;
#N canvas 414 95 1063 812 12;
#X declare -path lst;
#X declare -path seq;
#X declare -path pitches;
#X declare -path ext;
#X obj 117 323 output~;
#X obj 855 574 loadbang;
#X obj 855 599 f \$0;
#N canvas 0 22 737 536 misc 0;
#X obj 365 318 mtl/transpose;
#X floatatom 481 295 5 0 0 0 - - -, f 5;
#X obj 224 220 f;
#X obj 224 365 + 48;
#X obj 265 220 + 1;
#X obj 224 338 list-obix;
#X obj 224 245 mod 10;
#X obj 287 246 list length;
#X obj 224 270 t f f;
#N canvas 0 22 450 300 barcount 0;
#X obj 82 60 sel;
#X obj 82 94 f;
#X obj 123 94 + 1;
#X obj 82 151 mod 2;
#X obj 82 32 inlet;
#X obj 244 57 inlet;
#X text 299 59 #bars loop;
#X obj 82 180 s \$0bar_count;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 1 1;
#X connect 3 0 2 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 5 0 3 1;
#X restore 261 294 pd barcount;
#X obj 481 114 r \$0bar_count;
#X floatatom 499 139 5 0 0 0 - - -, f 5;
#X obj 481 163 route 0 1;
#X msg 451 207 0 4 7 9.75 5 4;
#X msg 463 238 0 4 5 8.25 5 4;
#X connect 0 0 5 1;
#X connect 1 0 0 1;
#X connect 2 0 6 0;
#X connect 4 0 2 1;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 5 0;
#X connect 8 1 9 0;
#X connect 10 0 11 0;
#X connect 10 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 7 0;
#X connect 13 0 0 0;
#X connect 14 0 0 0;
#X connect 14 0 7 0;
#X restore 855 712 pd misc;
#X text 554 262 make stevie;
#X obj 520 88 s \$0reset;
#X msg 520 62 bang;
#X obj 611 88 s \$0play;
#X msg 611 62 1;
#X msg 649 62 0;
#N canvas 274 393 450 300 instr 0;
#N canvas 94 120 203 196 voice_id 0;
#X obj 64 58 f;
#X obj 64 83 mod 3;
#X obj 100 59 + 1;
#X obj 64 33 inlet;
#X text 112 33 bang;
#X obj 64 108 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 0 1;
#X connect 3 0 0 0;
#X restore 160 120 pd voice_id;
#X obj 67 143 list prepend;
#X obj 67 100 t l b;
#X obj 67 177 clone 3 pad;
#X obj 67 68 inlet;
#X obj 67 202 outlet~;
#X connect 0 0 1 1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 2 1 0 0;
#X connect 3 0 5 0;
#X connect 4 0 2 0;
#X restore 117 269 pd instr;
#N canvas 86 322 713 535 fx 0;
#X obj 273 118 rev1~;
#X floatatom 291 96 5 0 0 0 - #0rev -, f 5;
#X obj 180 241 tof/crossfade~ 1;
#X floatatom 282 30 5 0 0 0 - - -, f 5;
#X floatatom 324 189 5 0 0 0 - - -, f 5;
#X obj 234 58 clip~ -0.1 1;
#X obj 151 23 inlet~;
#X obj 180 317 outlet~;
#X obj 305 214 sig~ 0.8;
#X text 382 215 0.08;
#X obj 234 204 hip~ 20;
#X obj 35 183 bp~ 10000 5;
#X obj 35 158 bp~ 1000 5;
#X obj 180 292 *~ 5;
#X obj 273 143 *~ 0.025;
#X obj 180 267 bp~ 800 5;
#X text 262 267 [800 \, 3000];
#X obj 429 355 line;
#X obj 430 330 pack f 15000;
#X obj 457 217 metro 15000;
#X obj 474 197 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 455 250 f;
#X obj 489 250 + 1;
#X obj 522 250 mod 2;
#X obj 455 273 moses 1;
#X msg 508 298 800;
#X floatatom 381 409 5 0 0 0 - - -, f 5;
#X msg 455 298 5000;
#X obj 151 133 hip~ 100;
#X connect 0 0 14 0;
#X connect 1 0 0 1;
#X connect 2 0 15 0;
#X connect 3 0 5 1;
#X connect 4 0 8 0;
#X connect 5 0 10 0;
#X connect 5 0 0 0;
#X connect 6 0 5 0;
#X connect 6 0 28 0;
#X connect 8 0 2 2;
#X connect 10 0 2 1;
#X connect 13 0 7 0;
#X connect 14 0 10 0;
#X connect 15 0 13 0;
#X connect 17 0 15 1;
#X connect 17 0 26 0;
#X connect 18 0 17 0;
#X connect 19 0 21 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 21 0 24 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 27 0;
#X connect 24 1 25 0;
#X connect 25 0 18 0;
#X connect 27 0 18 0;
#X connect 28 0 2 0;
#X restore 117 292 pd fx;
#N canvas 378 250 607 449 v1 0;
#X obj 105 408 outlet;
#N canvas 195 78 820 730 note 0;
#X obj 88 51 inlet;
#X obj 117 511 outlet;
#X obj 592 630 array define \$0pi;
#X obj 592 654 array define \$0dur;
#X obj 88 96 route bang pi dur;
#X obj 271 311 array size \$0pi;
#X obj 272 197 array size \$0dur;
#X obj 272 172 list length;
#X obj 271 286 list length;
#X obj 235 225 array set \$0dur;
#X obj 234 339 array set \$0pi;
#X obj 234 261 t l l;
#X obj 88 207 f;
#X obj 88 262 mod;
#X obj 128 207 + 1;
#N canvas 631 71 747 676 interpreter 0;
#X obj 36 52 inlet;
#X obj 176 424 pack;
#X obj 60 139 t f f;
#X obj 65 207 array get \$0pi 0 1;
#X obj 381 182 array get \$0dur 0 1;
#X obj 429 255 * 100;
#X obj 429 280 / 16;
#X text 474 281 4 bars/measure \, 4 16ths/bar;
#X text 491 307 ms in a 16th note;
#X floatatom 445 307 5 0 0 0 - - -, f 5;
#X obj 381 337 *;
#X obj 206 511 outlet;
#X obj 428 230 r \$0ms_in_tick;
#X obj 80 290 array get \$0scale 0 1;
#X text 128 234 pitch index;
#X text 129 313 pitch;
#X floatatom 134 260 5 0 0 0 - - -, f 5;
#X floatatom 134 341 5 0 0 0 - - -, f 5;
#X obj 99 441 midinum;
#X floatatom 107 177 5 0 0 0 - - -, f 5;
#X msg 358 59 bang;
#X obj 350 110 print;
#X obj 350 85 array get \$0dur;
#X obj 94 372 + 36;
#X obj 284 383 * 1.5;
#X connect 0 0 2 0;
#X connect 1 0 11 0;
#X connect 2 0 3 0;
#X connect 2 0 19 0;
#X connect 2 1 4 0;
#X connect 3 0 13 0;
#X connect 3 0 16 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 6 0 9 0;
#X connect 6 0 10 1;
#X connect 10 0 24 0;
#X connect 12 0 5 0;
#X connect 13 0 17 0;
#X connect 13 0 23 0;
#X connect 20 0 22 0;
#X connect 22 0 21 0;
#X connect 23 0 1 0;
#X connect 23 0 18 0;
#X connect 24 0 1 1;
#X restore 88 445 pd interpreter;
#X obj 592 678 array define \$0scale;
#X obj 276 407 r \$0init;
#X obj 288 542 array set \$0scale;
#X text 456 90 pi pitch index;
#X text 455 111 dur note duration;
#X obj 326 481 list length;
#X obj 276 455 t l l;
#X obj 326 506 array size \$0scale;
#X obj 528 458 array get \$0scale;
#X obj 536 427 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 528 483 print;
#X obj 276 431 black_keys;
#X obj 303 55 r \$0reset;
#X msg 303 80 0;
#X obj 235 147 t l l b;
#X text 115 538 pitch \, dur;
#X connect 0 0 4 0;
#X connect 4 0 12 0;
#X connect 4 1 11 0;
#X connect 4 2 30 0;
#X connect 7 0 6 0;
#X connect 7 0 13 1;
#X connect 8 0 5 0;
#X connect 11 0 10 0;
#X connect 11 1 8 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 12 1;
#X connect 15 0 1 0;
#X connect 17 0 27 0;
#X connect 21 0 23 0;
#X connect 22 0 18 0;
#X connect 22 1 21 0;
#X connect 24 0 26 0;
#X connect 25 0 24 0;
#X connect 27 0 22 0;
#X connect 28 0 29 0;
#X connect 29 0 12 1;
#X connect 30 0 9 0;
#X connect 30 1 7 0;
#X connect 30 2 29 0;
#X restore 105 383 pd note;
#X obj 276 199 r \$0reset;
#X obj 167 254 route list;
#X obj 167 227 reader pat01 3;
#X obj 276 361 list-map;
#X obj 354 361 * 100;
#X obj 105 299 phrase3;
#X obj 84 324 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X text 291 227 pattern \, pitch \, duration;
#X obj 276 386 outlet;
#X obj 105 39 inlet;
#X obj 105 64 route float bang;
#X floatatom 54 174 5 0 0 0 - - -, f 5;
#X obj 174 414 print;
#X text 58 300 TODO;
#X connect 1 0 0 0;
#X connect 1 0 14 0;
#X connect 2 0 4 1;
#X connect 3 0 7 0;
#X connect 3 1 1 0;
#X connect 4 0 3 0;
#X connect 5 0 10 0;
#X connect 5 1 6 0;
#X connect 6 0 5 1;
#X connect 7 0 1 0;
#X connect 7 0 8 0;
#X connect 7 1 5 0;
#X connect 11 0 12 0;
#X connect 12 0 7 0;
#X connect 12 0 13 0;
#X connect 12 1 4 0;
#X restore 117 216 pd v1;
#N canvas 151 38 975 664 (subpatch) 0;
#X floatatom 105 106 3 0 0 1 spd - -, f 3;
#X obj 426 158 phasor2;
#X obj 479 186 s \$0ms_in_tick;
#X obj 426 81 r \$0play;
#X floatatom 105 127 3 0 0 1 t/b - -, f 3;
#X obj 309 105 r \$0reset;
#X obj 426 236 spdctrl;
#X obj 426 302 f;
#X obj 460 302 + 1;
#X text 183 127 ticks/bar;
#X text 184 148 #bars;
#X floatatom 105 148 3 0 0 1 bars - -, f 3;
#X obj 163 106 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 186 104 reset;
#X obj 36 16 r \$0init;
#X obj 141 60 unpack f f f f f;
#X obj 486 490 mod 16;
#X obj 426 490 div 16;
#X obj 426 387 t f f;
#X text 541 490 ticks;
#X text 382 491 bars;
#X obj 447 602 pack;
#X floatatom 529 148 5 0 0 0 - - -, f 5;
#X obj 195 269 f;
#X obj 426 535 mod;
#X obj 494 302 mod 1e+38;
#X obj 228 295 pack f f f;
#X obj 228 320 unpack f f f;
#X obj 309 130 t b b;
#X msg 355 158 0, f 2;
#X obj 141 35 pack 128 16 2;
#X obj 36 45 t b b;
#X obj 426 561 t f b;
#X obj 447 627 outlet;
#X connect 0 0 23 1;
#X connect 1 0 6 0;
#X connect 1 1 2 0;
#X connect 3 0 1 0;
#X connect 4 0 26 1;
#X connect 5 0 28 0;
#X connect 6 0 7 0;
#X connect 7 0 18 0;
#X connect 7 0 8 0;
#X connect 8 0 25 0;
#X connect 11 0 26 2;
#X connect 12 0 28 0;
#X connect 14 0 31 0;
#X connect 15 0 0 0;
#X connect 15 1 4 0;
#X connect 15 2 11 0;
#X connect 16 0 21 1;
#X connect 17 0 24 0;
#X connect 18 0 17 0;
#X connect 18 1 16 0;
#X connect 21 0 33 0;
#X connect 22 0 1 1;
#X connect 23 0 26 0;
#X connect 24 0 32 0;
#X connect 25 0 7 1;
#X connect 26 0 27 0;
#X connect 27 0 1 1;
#X connect 27 1 16 1;
#X connect 27 2 24 1;
#X connect 28 0 29 0;
#X connect 28 1 23 0;
#X connect 29 0 7 1;
#X connect 30 0 15 0;
#X connect 31 0 28 0;
#X connect 31 1 30 0;
#X connect 32 0 21 0;
#X connect 32 1 23 0;
#X coords 0 -1 1 1 82 70 2 100 100;
#X restore 117 46 pd;
#X obj 232 278 datavis1-GOP;
#X msg 855 624 \; \$1rev 5 \; \$1init bang \;;
#N canvas 110 69 489 590 range 0;
#X floatatom 105 121 2 0 0 1 b - -, f 2;
#X floatatom 105 163 2 1 4 1 qbs - -, f 2;
#X obj 58 30 inlet;
#X obj 49 342 outlet;
#X obj 72 62 print;
#X floatatom 105 142 2 1 4 1 qb - -, f 2;
#X text 194 163 quarter-bars to play;
#X text 189 67 TODO: make selection range:;
#X text 195 120 bar# to start from;
#X text 195 142 quarter-bar to start from;
#X connect 2 0 4 0;
#X coords 0 -1 1 1 60 85 1 100 100;
#X restore 117 123 pd range;
#N canvas 0 22 450 300 decl 0;
#X obj 38 56 declare -path lst;
#X obj 38 82 declare -path seq;
#X obj 38 108 declare -path pitches;
#X obj 38 134 declare -path ext;
#X restore 855 685 pd decl;
#X connect 1 0 2 0;
#X connect 2 0 15 0;
#X connect 6 0 5 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 11 0;
#X connect 11 0 0 0;
#X connect 11 0 0 1;
#X connect 12 0 10 0;
#X connect 12 1 14 0;
#X connect 13 0 16 0;
#X connect 16 0 12 0;
