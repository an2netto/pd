#N canvas 4 23 1436 855 12;
#X obj 948 547 snapshot~;
#X obj 973 495 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X floatatom 948 572 5 0 0 0 - - -, f 5;
#X obj 838 684 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 899 483 *~ 2;
#X obj 640 684 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 830 547 tabwrite~ lev;
#N canvas 0 22 450 278 (subpatch) 0;
#X array lev 10000 float 0;
#X coords 0 1 9999 -1 200 140 1;
#X restore 1031 698 graph;
#X text 914 120 TODO:try with different winsize;
#X text 915 138 then loop~ will go to clone abstr;
#X text 949 164 randomize levels for every clone;
#N canvas 173 23 972 846 (subpatch) 0;
#X obj 224 207 r \$0left;
#X obj 107 339 outlet~;
#X obj 439 345 outlet~;
#X obj 220 506 r leftbang;
#X obj 492 504 r rightbang;
#X obj 285 562 f;
#X obj 220 531 t b b;
#X text 595 308 switch \, winsize \, offset \, level;
#X obj 89 155 iter 8;
#X msg 90 129 bang;
#X obj 89 210 t f f;
#X obj 89 268 pack f f;
#X obj 194 734 print leftbang;
#X obj 466 735 print rightbang;
#X obj 557 209 r \$0right;
#X obj 429 156 iter 8;
#X msg 430 130 bang;
#X obj 429 211 t f f;
#X obj 429 269 pack f f;
#X obj 152 231 expr ($f1 == $f2);
#X obj 492 232 expr ($f1 == $f2);
#X obj 586 534 r \$0left;
#X obj 492 529 t b b;
#X obj 557 562 f;
#X obj 557 614 + 1;
#X obj 557 639 s \$0right;
#X obj 430 102 r switch_right_note;
#X obj 492 701 s switch_right_note;
#X obj 429 181 + 1;
#X obj 89 180 + 1;
#X obj 90 103 r switch_left_note;
#X msg 185 269 all bang;
#X msg 511 268 all bang;
#X obj 315 535 r \$0right;
#X obj 220 699 s switch_left_note;
#X obj 285 614 + 1;
#X obj 285 639 s \$0left;
#X floatatom 637 634 5 0 0 0 - - -, f 5;
#X floatatom 357 634 5 0 0 0 - - -, f 5;
#X obj 285 588 mod 8;
#X obj 557 588 mod 8;
#X obj 209 361 print o;
#X obj 281 356 print w;
#X obj 28 306 print;
#X obj 374 309 print;
#X obj 89 308 clone -s 1 8 c_note;
#X obj 429 307 clone -s 1 8 c_note;
#X connect 0 0 19 1;
#X connect 3 0 6 0;
#X connect 4 0 22 0;
#X connect 5 0 39 0;
#X connect 6 0 12 0;
#X connect 6 0 34 0;
#X connect 6 1 5 0;
#X connect 8 0 29 0;
#X connect 9 0 8 0;
#X connect 10 0 11 0;
#X connect 10 1 19 0;
#X connect 11 0 45 0;
#X connect 14 0 20 1;
#X connect 15 0 28 0;
#X connect 16 0 15 0;
#X connect 17 0 18 0;
#X connect 17 1 20 0;
#X connect 18 0 44 0;
#X connect 18 0 46 0;
#X connect 19 0 11 1;
#X connect 19 0 31 0;
#X connect 20 0 18 1;
#X connect 20 0 32 0;
#X connect 21 0 23 1;
#X connect 22 0 27 0;
#X connect 22 0 13 0;
#X connect 22 1 23 0;
#X connect 23 0 40 0;
#X connect 24 0 25 0;
#X connect 24 0 37 0;
#X connect 26 0 16 0;
#X connect 28 0 17 0;
#X connect 29 0 10 0;
#X connect 30 0 9 0;
#X connect 31 0 45 1;
#X connect 31 0 45 2;
#X connect 32 0 46 1;
#X connect 32 0 46 2;
#X connect 33 0 5 1;
#X connect 35 0 36 0;
#X connect 35 0 38 0;
#X connect 39 0 35 0;
#X connect 40 0 24 0;
#X connect 45 0 1 0;
#X connect 46 0 2 0;
#X restore 617 379 pd;
#X obj 860 753 send rightbang;
#X obj 629 754 send leftbang;
#X obj 1251 465 r reset_phase;
#X obj 964 515 metro 1 10000 samp;
#X obj 899 456 min~;
#X obj 938 425 expr~ 1-$v1;
#N canvas 330 224 450 300 fakesin 0;
#X obj 126 88 phasor~;
#X obj 126 187 expr~ 4*($v1 - pow($v1 \, 2));
#X obj 317 44 block~ 1 1 1;
#X obj 126 212 outlet~;
#X obj 126 64 inlet~;
#X obj 147 119 inlet~;
#X obj 126 148 +~;
#X connect 0 0 6 0;
#X connect 1 0 3 0;
#X connect 4 0 0 0;
#X connect 5 0 6 1;
#X connect 6 0 1 0;
#X restore 105 430 pd fakesin;
#X floatatom 105 351 5 0 0 0 - - -, f 5;
#X obj 105 455 output~;
#X obj 105 373 pack 0 20;
#X obj 105 398 line~;
#X text 163 407 needs a knee function;
#X floatatom 611 527 2 0 0 0 - #0left -, f 2;
#X floatatom 631 527 2 0 0 0 - #0right -, f 2;
#X floatatom 895 351 5 0 0 0 - - -, f 5;
#X msg 1220 503 0;
#X msg 1260 503 0;
#X obj 383 288 tabplay~;
#X obj 889 392 phasor~ 0.01;
#X obj 537 483 tof/crossfade~ 1;
#X obj 536 524 output~;
#X obj 1264 313 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1260 286 t b b;
#X msg 1302 314 0;
#X obj 1260 261 threshold~ 0.9999;
#X text 569 181 tabplay~ with onsets;
#X obj 1261 237 wrap~;
#X obj 1261 212 *~ 200;
#X obj 1270 380 timer;
#X obj 1274 357 t b b;
#X floatatom 1270 405 5 0 0 0 - - -, f 5;
#X obj 626 664 threshold~ 0.9999 50 1e-05 50;
#X obj 372 122 playsound~;
#X obj 387 228 output~;
#X msg 372 97 bang;
#X obj 97 79 loadbang;
#X obj 97 127 f \$0;
#X msg 97 103 bang;
#X msg 97 152 \; \$1right 0 \; \$1left 0 \; leftbang bang \; rightbang
bang \; reset_phase bang \;;
#X obj 380 198 lop~ 500;
#X connect 0 0 2 0;
#X connect 1 0 15 0;
#X connect 4 0 0 0;
#X connect 4 0 31 2;
#X connect 4 0 43 0;
#X connect 11 0 31 0;
#X connect 11 1 31 1;
#X connect 14 0 28 0;
#X connect 14 0 27 0;
#X connect 15 0 0 0;
#X connect 15 0 6 0;
#X connect 16 0 4 0;
#X connect 17 0 16 1;
#X connect 18 0 20 0;
#X connect 18 0 20 1;
#X connect 19 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 18 0;
#X connect 26 0 30 0;
#X connect 27 0 30 1;
#X connect 27 0 43 1;
#X connect 30 0 17 0;
#X connect 30 0 16 0;
#X connect 30 0 39 0;
#X connect 31 0 32 0;
#X connect 31 0 32 1;
#X connect 31 0 6 0;
#X connect 33 0 41 0;
#X connect 34 0 33 0;
#X connect 34 1 35 0;
#X connect 35 0 36 1;
#X connect 36 0 34 0;
#X connect 38 0 36 0;
#X connect 39 0 38 0;
#X connect 40 0 42 0;
#X connect 41 0 40 0;
#X connect 41 1 40 1;
#X connect 43 0 5 0;
#X connect 43 0 13 0;
#X connect 43 1 3 0;
#X connect 43 1 12 0;
#X connect 44 0 51 0;
#X connect 46 0 44 0;
#X connect 47 0 49 0;
#X connect 48 0 50 0;
#X connect 49 0 48 0;
#X connect 51 0 45 0;
#X connect 51 0 45 1;
#X coords 0 855 1 854 65 55 0;
