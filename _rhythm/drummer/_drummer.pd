#N canvas 2 23 1436 855 10;
#X declare -path lst;
#N canvas 467 126 764 570 cl 0;
#X obj 100 189 metro 1 64 samp;
#X obj 100 413 outlet;
#X obj 187 159 max 1;
#X obj 100 388 f;
#X obj 134 388 + 1;
#X floatatom 103 119 3 0 0 1 spd - -, f 3;
#X text 483 95 clock with speed control;
#X obj 143 102 bng 15 250 50 0 empty \$0reset empty 17 7 0 10 -262144
-1 -1;
#X text 163 101 reset;
#X msg 344 173 0, f 2;
#X text 157 414 to sequencer;
#X obj 168 388 mod 1e+38;
#X obj 100 170 tgl 15 1 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 100 229 seq/spdctrl2;
#X obj 453 389 con/mstobpm;
#X obj 453 431 outlet;
#X obj 453 243 * 64;
#X obj 453 268 con/samptoms;
#X floatatom 460 312 7 0 0 0 - - -, f 7;
#X text 485 291 speed reduction rate;
#X obj 453 410 int;
#X obj 103 42 loadbang;
#X text 483 354 beat is a quarter-bar;
#X obj 453 354 * 4;
#X obj 100 255 route 16;
#X obj 453 291 * 1;
#X obj 103 69 118;
#X connect 0 0 13 0;
#X connect 2 0 0 1;
#X connect 2 0 16 0;
#X connect 3 0 4 0;
#X connect 3 0 1 0;
#X connect 4 0 11 0;
#X connect 5 0 2 0;
#X connect 7 0 9 0;
#X connect 9 0 3 1;
#X connect 11 0 3 1;
#X connect 12 0 0 0;
#X connect 13 0 24 0;
#X connect 14 0 20 0;
#X connect 16 0 17 0;
#X connect 17 0 25 0;
#X connect 20 0 15 0;
#X connect 21 0 26 0;
#X connect 23 0 14 0;
#X connect 24 0 3 0;
#X connect 25 0 18 0;
#X connect 25 0 23 0;
#X connect 26 0 5 0;
#X coords 0 -1 1 1 60 36 1 100 100;
#X restore 80 46 pd cl;
#X floatatom 131 227 3 0 0 1 - - -, f 3;
#X obj 80 102 seq;
#X floatatom 133 81 3 0 0 1 bpm - -, f 3;
#N canvas 175 51 1191 769 ptrn 0;
#X obj 1043 554 array get \$0ptrn;
#X msg 1043 530 bang;
#X obj 101 387 loadbang;
#X obj 837 185 inlet;
#X obj 942 300 array get \$0ptrn 0 1;
#X text 1041 503 debug;
#X obj 837 415 outlet;
#X msg 1043 601 bang;
#X obj 1043 625 array get \$0map;
#X floatatom 103 132 8 0 0 2 b1 #0r-ptrn1 #0s-ptrn1, f 8;
#X floatatom 103 150 8 0 0 0 - #0r-map1 #0s-map1, f 8;
#X obj 942 323 array get \$0map 0 1;
#X obj 837 218 mod 16;
#X floatatom 157 132 8 0 0 2 b2 #0r-ptrn2 #0s-ptrn2, f 8;
#X floatatom 157 150 8 0 0 1 map #0r-map2 #0s-map2, f 8;
#X floatatom 103 168 8 0 0 0 - #0r-acc1 #0s-acc1, f 8;
#X floatatom 157 168 8 0 0 1 acc #0r-acc2 #0s-acc2, f 8;
#X text 933 107 TODO: add gate;
#X msg 1044 677 bang;
#X obj 1044 699 array get \$0acc;
#X obj 942 346 array get \$0acc 0 1;
#X obj 837 257 t f f f f;
#X obj 837 393 pack f f f f;
#X text 206 132 ptrn;
#N canvas 0 22 492 419 set-ptrn 0;
#X obj 112 228 lst/list-map;
#X obj 196 228 - 48;
#X obj 112 83 moocow/any2bytes 0 -1;
#X obj 112 271 list prepend 0;
#X obj 112 250 con/dec2bin;
#X obj 112 294 array define \$0ptrn 16;
#X obj 112 205 list;
#X obj 158 152 t b l;
#X obj 112 181 list;
#X obj 112 131 t b l;
#X obj 158 130 moocow/any2bytes 0 -1;
#X obj 112 58 r \$0s-ptrn1;
#X obj 158 105 r \$0s-ptrn2;
#X connect 0 0 4 0;
#X connect 0 1 1 0;
#X connect 1 0 0 1;
#X connect 2 0 9 0;
#X connect 3 0 5 0;
#X connect 4 0 3 0;
#X connect 6 0 0 0;
#X connect 7 0 8 0;
#X connect 7 1 6 1;
#X connect 8 0 6 0;
#X connect 9 0 8 0;
#X connect 9 1 8 1;
#X connect 10 0 7 0;
#X connect 11 0 2 0;
#X connect 12 0 10 0;
#X restore 101 222 pd set-ptrn;
#N canvas 0 22 860 645 set-map 0;
#X obj 260 410 lst/list-distrib;
#X obj 260 358 array get \$0ptrn;
#X obj 260 433 list prepend 0;
#X obj 376 164 moocow/any2bytes 0 -1;
#X obj 260 140 t b f;
#X obj 260 456 array define \$0map 16;
#X obj 260 118 r \$0s-map1;
#X obj 376 357 lst/list-map;
#X obj 460 357 - 48;
#X obj 376 334 list;
#X obj 376 306 list;
#X obj 376 186 t b l;
#X obj 421 186 r \$0s-map2;
#X obj 421 209 moocow/any2bytes 0 -1;
#X obj 421 232 t b b l;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 5 0;
#X connect 3 0 11 0;
#X connect 4 0 1 0;
#X connect 4 1 3 0;
#X connect 6 0 4 0;
#X connect 7 0 0 1;
#X connect 7 1 8 0;
#X connect 8 0 7 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X connect 11 1 10 1;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 14 0 1 0;
#X connect 14 1 10 0;
#X connect 14 2 9 1;
#X restore 101 246 pd set-map;
#N canvas 0 22 860 645 set-acc 0;
#X obj 260 410 lst/list-distrib;
#X obj 260 358 array get \$0ptrn;
#X obj 260 433 list prepend 0;
#X obj 376 164 moocow/any2bytes 0 -1;
#X obj 260 140 t b f;
#X obj 376 357 lst/list-map;
#X obj 460 357 - 48;
#X obj 376 334 list;
#X obj 376 306 list;
#X obj 376 186 t b l;
#X obj 421 209 moocow/any2bytes 0 -1;
#X obj 421 232 t b b l;
#X obj 260 457 array define \$0acc 16;
#X obj 260 118 r \$0s-acc1;
#X obj 421 186 r \$0s-acc2;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 12 0;
#X connect 3 0 9 0;
#X connect 4 0 1 0;
#X connect 4 1 3 0;
#X connect 5 0 0 1;
#X connect 5 1 6 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 8 0 7 0;
#X connect 9 0 8 0;
#X connect 9 1 8 1;
#X connect 10 0 11 0;
#X connect 11 0 1 0;
#X connect 11 1 8 0;
#X connect 11 2 7 1;
#X connect 13 0 4 0;
#X connect 14 0 10 0;
#X restore 101 270 pd set-acc;
#X obj 116 119 bng 10 250 50 0 \$0s-wr1 \$0r-wr1 w 13 5 0 10 -262144
-1 -1;
#X obj 170 119 bng 10 250 50 0 \$0s-wr2 \$0r-wr2 w 13 5 0 10 -262144
-1 -1;
#N canvas 0 22 548 420 write-to-textfile 0;
#X obj 133 89 r \$0s-wr1;
#X obj 179 208 r \$0s-acc1;
#X obj 164 186 r \$0s-map1;
#X obj 150 164 r \$0s-ptrn1;
#X obj 244 330 list trim;
#X obj 292 91 r \$0s-wr2;
#X obj 380 207 r \$0s-acc2;
#X obj 366 186 r \$0s-map2;
#X obj 349 165 r \$0s-ptrn2;
#X obj 244 352 s \$0reader;
#X obj 244 308 list prepend write;
#X obj 302 238 pack 2 f f f;
#X obj 103 236 pack 1 f f f;
#X obj 227 281 route 1 2;
#X connect 0 0 12 0;
#X connect 1 0 12 3;
#X connect 2 0 12 2;
#X connect 3 0 12 1;
#X connect 4 0 9 0;
#X connect 5 0 11 0;
#X connect 6 0 11 3;
#X connect 7 0 11 2;
#X connect 8 0 11 1;
#X connect 10 0 4 0;
#X connect 11 0 13 0;
#X connect 12 0 13 0;
#X connect 13 0 10 0;
#X connect 13 1 10 0;
#X restore 101 294 pd write-to-textfile;
#X obj 101 459 s \$0reader;
#X msg 101 420 0 1;
#X text 169 420 preset \, bar#;
#X msg 135 420 2 2;
#X obj 1044 721 print acc;
#X obj 1043 647 print map;
#X obj 1043 576 print ptrn;
#X obj 532 304 sel;
#X obj 532 326 t b b;
#X obj 532 348 timer;
#X floatatom 532 370 7 0 0 0 - - -, f 7;
#X floatatom 532 411 8 0 0 0 - - -, f 8;
#X obj 532 389 * 4;
#X connect 0 0 36 0;
#X connect 1 0 0 0;
#X connect 2 0 31 0;
#X connect 2 0 33 0;
#X connect 3 0 12 0;
#X connect 3 0 37 0;
#X connect 4 0 22 1;
#X connect 7 0 8 0;
#X connect 8 0 35 0;
#X connect 11 0 22 2;
#X connect 12 0 21 0;
#X connect 18 0 19 0;
#X connect 19 0 34 0;
#X connect 20 0 22 3;
#X connect 21 0 22 0;
#X connect 21 1 4 0;
#X connect 21 2 11 0;
#X connect 21 3 20 0;
#X connect 22 0 6 0;
#X connect 31 0 30 0;
#X connect 33 0 30 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 38 1 39 1;
#X connect 39 0 40 0;
#X connect 40 0 42 0;
#X connect 42 0 41 0;
#X coords 0 -1 1 1 135 84 1 100 100;
#X restore 80 248 pd ptrn;
#N canvas 265 36 1143 822 trig 0;
#X obj 121 200 inlet;
#X obj 121 255 list split 1;
#X floatatom 121 371 5 0 0 0 - - -, f 5;
#X obj 287 323 route 1;
#X text 317 471 1 bd;
#X text 317 488 2 sd;
#X obj 287 508 route 1 2;
#X text 336 323 filter offsets;
#X obj 289 581 s tr808-bd;
#X obj 318 555 s tr808-sd;
#X text 160 201 iter \, onset \, map \, acc;
#X text 542 567 map instr;
#X obj 635 637 s tr808-SD-vol;
#X obj 520 451 route 1 2 3;
#X text 596 451 accents;
#X msg 576 484 127;
#X msg 541 484 80;
#X obj 287 559 b;
#X obj 536 517 f;
#X obj 287 345 t l l;
#X obj 477 427 unpack;
#X obj 477 543 pack;
#X text 523 428 manage accents;
#X obj 478 566 route 1 2;
#X obj 478 654 s tr808-BD-vol;
#X text 350 509 map instr;
#X obj 316 532 b;
#X msg 507 484 25;
#X obj 121 523 change;
#X obj 503 161 output~;
#N canvas 235 166 497 634 bass 0;
#X obj 257 418 osc~;
#X obj 279 169 change;
#X obj 201 394 line~;
#X obj 201 452 *~;
#X obj 201 496 expr~ atan($v1);
#X obj 218 346 del 5;
#X obj 322 257 f;
#X obj 322 299 + 1;
#X obj 322 278 mod 3;
#X obj 279 191 t b b;
#X obj 252 35 inlet;
#X obj 262 591 outlet~;
#X obj 341 466 swap 1;
#X obj 341 488 -;
#X obj 341 421 ftom;
#X obj 237 554 *~;
#X floatatom 344 511 5 0 0 0 - - -, f 5;
#X obj 341 444 / 100;
#X obj 201 474 *~ 1.9;
#X obj 322 350 * 45;
#X obj 252 115 t f f;
#X obj 127 222 f;
#X obj 154 222 + 1;
#X obj 181 222 mod 2;
#X msg 181 354 1 5;
#X obj 127 174 div 16;
#X obj 127 153 + 1;
#X obj 127 200 sel 1;
#X text 327 147 var;
#X floatatom 410 433 5 0 0 0 - - -, f 5;
#X obj 201 422 *~;
#X msg 218 368 0 300;
#X floatatom 172 244 5 0 0 0 - - -, f 5;
#X obj 115 292 f 43;
#X obj 148 292 f 45;
#X obj 127 260 sel 0 1;
#X obj 279 146 div 2;
#X connect 0 0 3 1;
#X connect 1 0 9 0;
#X connect 2 0 30 0;
#X connect 2 0 30 1;
#X connect 3 0 18 0;
#X connect 4 0 15 0;
#X connect 5 0 31 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 7 0 19 0;
#X connect 8 0 7 0;
#X connect 9 0 5 0;
#X connect 9 0 24 0;
#X connect 9 1 6 0;
#X connect 10 0 20 0;
#X connect 12 0 13 0;
#X connect 12 1 13 1;
#X connect 13 0 15 1;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 14 0 29 0;
#X connect 15 0 11 0;
#X connect 17 0 12 0;
#X connect 18 0 4 0;
#X connect 19 0 0 0;
#X connect 19 0 14 0;
#X connect 20 0 26 0;
#X connect 20 1 36 0;
#X connect 21 0 22 0;
#X connect 21 0 32 0;
#X connect 21 0 35 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 2 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 27 0 21 0;
#X connect 30 0 3 0;
#X connect 31 0 2 0;
#X connect 33 0 19 1;
#X connect 34 0 19 1;
#X connect 35 0 33 0;
#X connect 35 1 34 0;
#X connect 36 0 1 0;
#X restore 498 133 pd bass;
#N canvas 487 42 803 743 arp 0;
#X obj 221 410 osc~;
#X obj 317 180 change;
#X obj 357 316 line~;
#X obj 357 338 *~;
#X obj 203 472 *~;
#X obj 203 494 expr~ atan($v1);
#X obj 374 264 del 5;
#X obj 317 202 t b b;
#X msg 330 288 \$1 5;
#X obj 207 18 inlet;
#X obj 203 589 outlet~;
#X obj 120 393 line~;
#X obj 120 371 pack 0 5;
#X obj 330 264 f 0.9;
#X obj 372 419 / 127;
#X floatatom 381 484 5 0 0 0 - - -, f 5;
#X obj 372 441 swap 1;
#X obj 372 463 -;
#X msg 374 288 0 150;
#X obj 120 346 mtof;
#X obj 203 559 *~;
#X msg 543 520 bang;
#X obj 543 566 list prepend 0;
#X obj 120 270 array get scale 0 1;
#X floatatom 170 311 5 0 0 0 - - -, f 5;
#X obj 120 246 fetch 2 6;
#X text 383 400 key following;
#X obj 207 43 t f f;
#X obj 130 181 + 1;
#X floatatom 225 201 5 0 0 0 - - -, f 5;
#X floatatom 156 182 5 0 0 0 - - -, f 5;
#X obj 543 494 loadbang;
#X obj 198 200 + 3;
#X obj 144 81 + 1;
#X obj 144 103 div 16;
#X obj 144 125 sel 1;
#X obj 144 149 random 5;
#X floatatom 226 171 5 0 0 0 - - -, f 5;
#X text 260 171 var;
#X text 355 159 var \, 16 is silence;
#X obj 647 546 pch/midinum;
#X obj 687 368 print;
#X obj 543 544 pch/black_keys;
#X msg 615 303 bang;
#X obj 543 588 array define scale 14;
#X obj 615 336 pch/2x8ve 4 7;
#X obj 123 424 tri_trevor~;
#X obj 317 158 div 2;
#X obj 120 294 + 96;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 2 0 3 1;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 20 0;
#X connect 6 0 18 0;
#X connect 7 0 6 0;
#X connect 7 0 13 0;
#X connect 7 1 25 0;
#X connect 8 0 2 0;
#X connect 9 0 27 0;
#X connect 11 0 46 0;
#X connect 12 0 11 0;
#X connect 13 0 8 0;
#X connect 14 0 16 0;
#X connect 16 0 17 0;
#X connect 16 1 17 1;
#X connect 17 0 15 0;
#X connect 17 0 20 1;
#X connect 18 0 2 0;
#X connect 19 0 12 0;
#X connect 20 0 10 0;
#X connect 21 0 42 0;
#X connect 22 0 44 0;
#X connect 23 0 48 0;
#X connect 25 0 23 0;
#X connect 27 0 33 0;
#X connect 27 1 47 0;
#X connect 28 0 25 1;
#X connect 28 0 30 0;
#X connect 28 0 32 0;
#X connect 31 0 21 0;
#X connect 32 0 25 2;
#X connect 32 0 29 0;
#X connect 33 0 34 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 28 0;
#X connect 37 0 32 1;
#X connect 42 0 22 0;
#X connect 43 0 45 0;
#X connect 45 0 22 0;
#X connect 46 0 4 0;
#X connect 47 0 1 0;
#X connect 48 0 24 0;
#X connect 48 0 19 0;
#X connect 48 0 14 0;
#X restore 611 125 pd arp;
#X obj 490 92 f;
#X obj 599 193 output~;
#X obj 645 156 cyclone/delay~ 64 64;
#X text 643 198 66;
#X text 503 631 vol;
#X floatatom 493 612 5 0 0 0 - - -, f 5;
#X text 660 614 vol;
#X floatatom 650 595 5 0 0 0 - - -, f 5;
#X text 577 385 volume;
#N canvas 0 22 598 435 OH 0;
#X obj 80 186 inlet;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0acc-OH 8 float 3;
#A 0 0.674995 0.425001 0.674996 0.449999 0.650005 0.424995 0.650006
0.425001;
#X coords 0 1 8 0 100 40 1 0 0;
#X restore 102 120 graph;
#X obj 80 269 b;
#X obj 80 290 s tr808-oh;
#X obj 157 352 s tr808-OH-vol;
#X floatatom 80 251 5 0 0 0 - - -, f 5;
#X obj 80 216 t f f;
#X obj 157 244 array get \$0acc-OH 0 1;
#X obj 157 266 min 1;
#X obj 157 288 * 127;
#X floatatom 152 104 5 0 100 1 vol - -, f 5;
#X obj 152 37 loadbang;
#X msg 152 59 15;
#X obj 157 330 *;
#X obj 441 242 * 0.01;
#X msg 85 71 set \$1;
#X connect 0 0 6 0;
#X connect 2 0 3 0;
#X connect 5 0 2 0;
#X connect 6 0 5 0;
#X connect 6 1 7 0;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 13 0;
#X connect 10 0 14 0;
#X connect 10 0 15 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 4 0;
#X connect 14 0 13 1;
#X connect 15 0 12 0;
#X coords 0 -1 1 1 104 62 2 100 100;
#X restore 121 557 pd OH;
#X text 545 166 78;
#X text 575 39 sync bass pitches with arp ones;
#X text 577 53 other scales;
#X obj 121 501 div 2;
#X floatatom 174 490 5 0 0 0 - - -, f 5;
#N canvas 0 22 1156 841 phasemod 0;
#X floatatom 325 379 0 0 0 0 - - -;
#X obj 417 434 line~;
#X floatatom 229 393 0 0 0 0 - - -;
#X obj 229 507 cos~;
#X obj 229 463 +~;
#X obj 325 404 osc~ 0;
#X obj 417 408 pack 0 50;
#X floatatom 417 355 0 0 0 0 - - -;
#X obj 417 382 / 100;
#X text 391 317 modulation index;
#X text 391 332 in hundredths;
#X text 226 350 carrier;
#X text 225 368 frequency;
#X text 310 355 frequency;
#X text 311 338 modulation;
#X text 134 404 carrier;
#X text 134 419 phase -->;
#X text 107 447 phase;
#X text 106 462 modulation-->;
#X text 113 489 output;
#X text 112 506 waveform -->;
#X text 230 273 PHASE MODULATION;
#X obj 229 420 phasor~;
#X obj 494 787 outlet~;
#X obj 338 632 *~;
#X obj 649 442 del 5;
#X obj 609 494 line~;
#X obj 609 519 *~;
#X obj 796 25 inlet;
#X obj 846 138 change;
#X obj 734 466 swap 1;
#X obj 734 488 -;
#X floatatom 737 511 5 0 0 0 - - -, f 5;
#X obj 734 444 / 100;
#X obj 796 69 t f f;
#X obj 694 191 f;
#X obj 721 191 + 1;
#X obj 748 191 mod 2;
#X obj 694 119 div 16;
#X obj 694 98 + 1;
#X obj 694 145 sel 1;
#X text 894 116 var;
#X floatatom 803 433 5 0 0 0 - - -, f 5;
#X obj 368 691 expr~ atan($v1);
#X obj 641 300 mtof~;
#X obj 639 324 *~ 0.5;
#X floatatom 632 398 5 0 0 0 - - -, f 5;
#X msg 594 454 \$1 5;
#X obj 846 160 b;
#X obj 846 116 div 2;
#X obj 694 213 sel 0 1;
#X obj 644 277 +;
#X floatatom 775 321 5 0 0 0 - - -, f 5;
#X msg 648 466 0 450;
#X obj 694 250 f 37;
#X obj 604 416 f 1.65;
#X text 443 352 22;
#X obj 325 436 *~ 0.22;
#X obj 729 250 f 38;
#X floatatom 751 661 0 0 0 0 - - -;
#X floatatom 842 661 0 0 0 0 - - -;
#X obj 842 684 trigger bang float;
#X obj 688 758 biquad~;
#X obj 754 616 hsl 128 17 20 20000 1 0 empty empty frequency 5 9 0
10 -203904 -1 -1 3900 0;
#X obj 845 639 hsl 128 17 0 300 0 0 empty empty bandwidth 5 9 0 10
-261682 -1 -1 2400 0;
#X obj 751 727 ggee/notch;
#X obj 488 764 hip~ 250;
#X obj 796 46 spigot;
#X obj 844 25 r bass-play;
#X obj 694 167 b;
#X obj 545 123 r reset-count;
#X connect 0 0 5 0;
#X connect 2 0 22 0;
#X connect 3 0 24 0;
#X connect 4 0 3 0;
#X connect 5 0 57 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 6 0;
#X connect 22 0 4 0;
#X connect 24 0 43 0;
#X connect 25 0 53 0;
#X connect 26 0 27 0;
#X connect 26 0 27 1;
#X connect 27 0 24 1;
#X connect 28 0 67 0;
#X connect 29 0 48 0;
#X connect 30 0 31 0;
#X connect 30 1 31 1;
#X connect 31 0 32 0;
#X connect 33 0 30 0;
#X connect 34 0 39 0;
#X connect 34 1 49 0;
#X connect 35 0 36 0;
#X connect 35 0 50 0;
#X connect 36 0 37 0;
#X connect 37 0 35 1;
#X connect 38 0 40 0;
#X connect 39 0 38 0;
#X connect 40 0 69 0;
#X connect 43 0 62 0;
#X connect 44 0 45 0;
#X connect 44 0 22 0;
#X connect 45 0 5 0;
#X connect 46 0 55 1;
#X connect 47 0 26 0;
#X connect 48 0 25 0;
#X connect 48 0 55 0;
#X connect 49 0 29 0;
#X connect 50 0 54 0;
#X connect 50 1 58 0;
#X connect 51 0 44 0;
#X connect 52 0 51 1;
#X connect 53 0 26 0;
#X connect 54 0 33 0;
#X connect 54 0 51 0;
#X connect 55 0 47 0;
#X connect 57 0 4 1;
#X connect 58 0 33 0;
#X connect 58 0 51 0;
#X connect 59 0 65 0;
#X connect 60 0 61 0;
#X connect 61 0 65 0;
#X connect 61 1 65 1;
#X connect 62 0 66 0;
#X connect 63 0 59 0;
#X connect 64 0 60 0;
#X connect 65 0 62 0;
#X connect 66 0 23 0;
#X connect 67 0 34 0;
#X connect 68 0 67 1;
#X connect 69 0 35 0;
#X connect 70 0 35 1;
#X restore 551 298 pd phasemod;
#N canvas 423 262 910 616 fx 0;
#X obj 34 22 inlet;
#X obj 43 169 array get scale 0 1;
#X obj 42 92 change;
#X floatatom 118 219 5 0 0 0 - - -, f 5;
#N canvas 0 22 450 278 (subpatch) 0;
#X array peaks 16 float 3;
#A 0 2.14276 82.8571 2.14286 68.5715 1.42776 57.8572 1.42837 47.1427
1.42837 46.4287 2.14275 37.1429 2.14265 29.2858 2.85712 17.1429;
#X coords 0 100 16 0 200 140 1 0 0;
#X restore 635 251 graph;
#X obj 646 443 mtl/spectrum~;
#X obj 43 220 t b f;
#X obj 42 253 f;
#X obj 68 253 + 1;
#X obj 94 253 mod 4;
#X floatatom 169 271 5 0 0 0 - - -, f 5;
#X obj 194 304 print;
#X obj 42 114 * 7;
#X obj 42 70 div 8;
#X obj 40 288 pack f f 1000;
#X obj 42 136 + 5;
#X obj 319 169 array get scale 0 1;
#X floatatom 367 217 5 0 0 0 - - -, f 5;
#X obj 319 220 t b f;
#X obj 318 253 f;
#X obj 344 253 + 1;
#X obj 370 253 mod 4;
#X floatatom 445 271 5 0 0 0 - - -, f 5;
#X obj 316 288 pack f f 1000;
#X obj 176 424 tof/crossfade~ 2;
#X obj 188 531 outlet~;
#X obj 268 529 outlet~;
#X obj 543 97 f;
#X obj 569 97 + 1;
#X obj 542 175 sel;
#X obj 471 487 line~;
#X obj 472 444 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 318 141 + 4;
#X obj 595 97 mod 8;
#X floatatom 93 143 5 0 0 0 - - -, f 5;
#X floatatom 359 142 5 0 0 0 - - -, f 5;
#X text 363 541 TODO: add comb \, rev;
#X obj 411 343 *~ 5;
#X obj 318 345 *~ 5;
#X obj 135 343 *~ 5;
#X obj 42 345 *~ 5;
#X obj 43 198 + 36;
#X obj 319 198 + 36.25;
#X obj 40 316 clone 4 sinebank;
#X obj 316 316 clone 4 sinebank;
#X obj 174 457 hip~ 1000;
#X obj 270 449 hip~ 1000;
#X obj 543 72 sel;
#X floatatom 498 137 5 0 0 0 - - -, f 5;
#X obj 270 490 lop~ 4000;
#X obj 181 494 lop~ 4000;
#X obj 35 46 spigot;
#X obj 83 25 r pad-play;
#X msg 471 465 \$1 5000;
#X obj 591 53 r reset-count;
#X connect 0 0 51 0;
#X connect 1 0 41 0;
#X connect 2 0 12 0;
#X connect 6 0 7 0;
#X connect 6 1 14 1;
#X connect 7 0 8 0;
#X connect 7 0 14 0;
#X connect 8 0 9 0;
#X connect 9 0 7 1;
#X connect 10 0 14 2;
#X connect 12 0 15 0;
#X connect 12 0 32 0;
#X connect 13 0 2 0;
#X connect 14 0 11 0;
#X connect 14 0 43 0;
#X connect 15 0 1 0;
#X connect 15 0 34 0;
#X connect 16 0 42 0;
#X connect 18 0 19 0;
#X connect 18 1 23 1;
#X connect 19 0 20 0;
#X connect 19 0 23 0;
#X connect 20 0 21 0;
#X connect 21 0 19 1;
#X connect 22 0 23 2;
#X connect 23 0 44 0;
#X connect 24 0 45 0;
#X connect 24 1 46 0;
#X connect 27 0 28 0;
#X connect 27 0 29 0;
#X connect 27 0 48 0;
#X connect 28 0 33 0;
#X connect 29 0 31 0;
#X connect 30 0 24 4;
#X connect 31 0 53 0;
#X connect 32 0 16 0;
#X connect 32 0 35 0;
#X connect 33 0 27 1;
#X connect 37 0 24 3;
#X connect 38 0 24 2;
#X connect 39 0 5 0;
#X connect 39 0 24 1;
#X connect 40 0 24 0;
#X connect 41 0 3 0;
#X connect 41 0 6 0;
#X connect 42 0 17 0;
#X connect 42 0 18 0;
#X connect 43 0 40 0;
#X connect 43 1 39 0;
#X connect 44 0 38 0;
#X connect 44 1 37 0;
#X connect 45 0 50 0;
#X connect 46 0 49 0;
#X connect 47 0 27 0;
#X connect 49 0 26 0;
#X connect 50 0 25 0;
#X connect 51 0 13 0;
#X connect 51 0 47 0;
#X connect 52 0 51 1;
#X connect 53 0 30 0;
#X connect 54 0 27 1;
#X restore 417 194 pd fx;
#X obj 745 716 declare -path lst;
#X obj 551 326 throw~ bass;
#X obj 425 238 throw~ pad-l;
#X obj 445 217 throw~ pad-r;
#N canvas 185 180 1093 604 vc 0;
#X obj 861 276 cnv 15 200 20 empty empty /pishi/ 2 12 0 8 -258401 -262144
0;
#X obj 861 299 nbx 5 14 -1e+37 1e+37 0 0 /pishi/transpose /pishi/transpose_
transpose 50 8 0 8 -262144 -1 -1 11 256;
#X obj 861 317 tgl 15 0 /pishi/switch /pishi/switch_ switch 17 7 0
8 -262144 -166441 -1 1 1;
#X obj 861 335 tgl 15 0 /pishi/method /pishi/method_ method 17 7 0
8 -262144 -166441 -1 1 1;
#X obj 309 377 mtl/pitchShift~ /id pishi;
#X obj 430 271 openpanel;
#X msg 429 294 read \$1;
#X msg 438 247 bang;
#X obj 320 325 mtl/player~ 0;
#X msg 538 224 11;
#X msg 573 223 10;
#X obj 602 272 s /pishi/transpose_;
#X floatatom 560 351 0 0 120 0 - - -;
#X text 591 353 level \, dB;
#X floatatom 585 375 0 0 100 0 - - -;
#X text 626 375 liveness \, 0-100;
#X floatatom 620 399 4 0 5000 0 - - -, f 4;
#X floatatom 655 422 0 0 100 0 - - -;
#X text 668 397 crossover frequency \, Hz.;
#X text 691 424 HF damping \, percent;
#X obj 892 461 block~ 64 2 0.36;
#X obj 307 413 hip~ 4000;
#X obj 420 415 hip~ 4000;
#X obj 299 264 mtl/samplefiler;
#X obj 109 98 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 187 146 add tt1.wav;
#X obj 118 124 t b b b;
#X msg 175 166 add tt2.wav;
#X msg 168 185 add tt3.wav;
#X obj 299 286 t b a;
#X msg 371 222 1, f 2;
#X obj 270 26 inlet;
#X obj 549 38 sel;
#X obj 549 60 f;
#X obj 577 60 + 1;
#X obj 606 60 mod 8;
#X obj 549 94 sel;
#X obj 549 117 f;
#X obj 577 117 + 1;
#X floatatom 493 86 5 0 0 0 - - -, f 5;
#X obj 606 117 mod 4;
#X obj 549 147 sel 0 1 2 3;
#X msg 396 229 0, f 2;
#X floatatom 494 137 5 0 0 0 - - -, f 5;
#X msg 608 223 8, f 2;
#X obj 278 562 throw~ vc-l;
#X obj 359 564 throw~ vc-r;
#X obj 222 455 *~ 0.75;
#X obj 294 455 *~ 0.75;
#X obj 431 449 rev3~ 90 90 3000 30;
#X obj 275 51 spigot;
#X obj 309 30 r vc-play;
#X obj 842 25 r reset-count;
#X obj 147 100 loadbang;
#X msg 328 196 2, f 2;
#X msg 644 223 11;
#X msg 670 526 4;
#X text 643 507 downsampling factor;
#X msg 524 524 4;
#X text 526 505 bit resolution;
#X msg 633 524 1;
#X msg 554 525 32;
#X obj 505 557 dkwesley~ 32 1;
#X connect 4 0 21 0;
#X connect 4 1 22 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 5 0;
#X connect 8 0 4 0;
#X connect 8 1 4 1;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X connect 12 0 49 2;
#X connect 14 0 49 3;
#X connect 16 0 49 4;
#X connect 17 0 49 5;
#X connect 21 0 47 0;
#X connect 21 0 49 0;
#X connect 22 0 48 0;
#X connect 22 0 49 1;
#X connect 23 0 29 0;
#X connect 24 0 26 0;
#X connect 25 0 23 0;
#X connect 26 0 28 0;
#X connect 26 1 27 0;
#X connect 26 2 25 0;
#X connect 27 0 23 0;
#X connect 28 0 23 0;
#X connect 29 0 8 0;
#X connect 29 1 8 0;
#X connect 30 0 23 0;
#X connect 31 0 50 0;
#X connect 32 0 33 0;
#X connect 33 0 34 0;
#X connect 33 0 36 0;
#X connect 33 0 39 0;
#X connect 34 0 35 0;
#X connect 35 0 33 1;
#X connect 36 0 37 0;
#X connect 37 0 38 0;
#X connect 37 0 43 0;
#X connect 38 0 40 0;
#X connect 40 0 37 1;
#X connect 41 0 9 0;
#X connect 41 0 30 0;
#X connect 41 1 10 0;
#X connect 41 1 30 0;
#X connect 41 2 30 0;
#X connect 41 2 9 0;
#X connect 41 3 42 0;
#X connect 41 3 44 0;
#X connect 42 0 23 0;
#X connect 44 0 11 0;
#X connect 47 0 45 0;
#X connect 48 0 46 0;
#X connect 49 0 45 0;
#X connect 49 1 46 0;
#X connect 50 0 32 0;
#X connect 51 0 50 1;
#X connect 52 0 33 1;
#X connect 52 0 37 1;
#X connect 53 0 26 0;
#X connect 54 0 23 0;
#X connect 55 0 11 0;
#X connect 56 0 62 2;
#X connect 58 0 62 1;
#X connect 60 0 62 2;
#X connect 61 0 62 1;
#X restore 804 355 pd vc;
#X obj 121 426 spigot;
#X obj 315 120 r drum-play;
#X obj 286 300 spigot;
#X obj 478 631 * 2;
#X obj 635 614 * 2;
#X msg 926 246 0;
#X text 955 247 reset all counters;
#X obj 926 268 s reset-count;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 56 0;
#X connect 2 0 32 0;
#X connect 2 0 47 0;
#X connect 2 0 48 0;
#X connect 2 0 53 0;
#X connect 2 0 54 0;
#X connect 3 0 19 0;
#X connect 6 0 17 0;
#X connect 6 1 26 0;
#X connect 13 0 27 0;
#X connect 13 1 16 0;
#X connect 13 2 15 0;
#X connect 15 0 18 0;
#X connect 16 0 18 0;
#X connect 17 0 8 0;
#X connect 18 0 21 1;
#X connect 19 0 6 0;
#X connect 19 1 20 0;
#X connect 20 0 21 0;
#X connect 20 1 13 0;
#X connect 21 0 23 0;
#X connect 23 0 57 0;
#X connect 23 1 58 0;
#X connect 26 0 9 0;
#X connect 27 0 18 0;
#X connect 28 0 41 0;
#X connect 30 0 29 0;
#X connect 30 0 29 1;
#X connect 31 0 33 0;
#X connect 31 0 34 0;
#X connect 32 0 30 0;
#X connect 32 0 31 0;
#X connect 34 0 33 1;
#X connect 37 0 57 1;
#X connect 39 0 58 1;
#X connect 45 0 28 0;
#X connect 46 0 45 1;
#X connect 47 0 50 0;
#X connect 48 0 51 0;
#X connect 48 1 52 0;
#X connect 54 0 45 0;
#X connect 55 0 54 1;
#X connect 55 0 56 1;
#X connect 56 0 3 0;
#X connect 57 0 24 0;
#X connect 58 0 12 0;
#X connect 59 0 61 0;
#X restore 80 338 pd trig;
#X obj 102 709 output~;
#X obj 79 377 tr808;
#X text 574 99 phrase is a combination of patterns;
#X text 586 121 add scratches for metronomic society;
#X obj 1318 705 loadbang;
#X obj 1318 727 f \$0;
#X msg 1318 749 \; \$0init;
#N canvas 680 160 518 588 reader 0;
#X obj 216 10 r \$0reader;
#X obj 230 279 unpack f f f;
#X obj 279 53 unpack;
#X obj 103 181 list prepend;
#X obj 103 428 unpack f f f;
#X obj 172 454 s \$0r-ptrn1;
#X obj 137 474 s \$0r-acc1;
#X obj 103 494 s \$0r-map1;
#X obj 299 305 s \$0r-ptrn2;
#X obj 264 325 s \$0r-acc2;
#X obj 230 345 s \$0r-map2;
#X obj 134 144 bng 10 250 50 0 empty empty debug 13 6 0 8 -262144 -1
-1;
#X msg 37 124 print;
#X obj 216 31 route write;
#X obj 103 55 list prepend add;
#X obj 103 77 list trim;
#X text 119 403 ptrn should be last;
#X obj 230 257 cyclone/zl rot -1;
#X obj 103 386 cyclone/zl rot -1;
#X obj 103 205 route 1 2;
#X obj 155 10 inlet;
#X obj 233 173 print l;
#X obj 103 116 rdr/reader pat 1;
#X connect 0 0 13 0;
#X connect 1 0 10 0;
#X connect 1 1 9 0;
#X connect 1 2 8 0;
#X connect 2 0 22 0;
#X connect 2 1 3 1;
#X connect 3 0 19 0;
#X connect 4 0 7 0;
#X connect 4 1 6 0;
#X connect 4 2 5 0;
#X connect 11 0 12 0;
#X connect 12 0 22 0;
#X connect 13 0 14 0;
#X connect 13 1 2 0;
#X connect 14 0 15 0;
#X connect 15 0 22 0;
#X connect 17 0 1 0;
#X connect 18 0 4 0;
#X connect 19 0 18 0;
#X connect 19 1 17 0;
#X connect 20 0 13 0;
#X connect 22 0 3 0;
#X connect 22 0 21 0;
#X coords 0 -1 1 1 75 57 1 100 100;
#X restore 220 248 pd reader;
#X msg 265 196 2 2;
#X obj 170 517 catch~ bass;
#X obj 170 539 *~;
#X obj 200 538 db~;
#X obj 233 592 catch~ pad-r;
#X obj 208 570 catch~ pad-l;
#X obj 260 615 db~;
#X obj 195 606 *~;
#X obj 225 635 *~;
#X obj 313 634 catch~ vc-l;
#X obj 342 657 catch~ vc-r;
#X obj 383 682 db~;
#X obj 318 680 *~;
#X obj 348 684 *~;
#X obj 463 536 cnv 15 50 100 empty empty empty 20 12 0 20 -228856 -66577
0;
#X obj 467 580 tgl 15 0 pad-play all-play pad 17 7 0 10 -262144 -1
-1 0 1;
#X obj 467 599 tgl 15 0 bass-play all-play bass 17 7 0 10 -262144 -1
-1 0 1;
#X obj 467 618 tgl 15 0 vc-play all-play vc 17 7 0 10 -262144 -1 -1
0 1;
#X obj 467 561 tgl 15 0 drum-play all-play drum 17 7 0 10 -262144 -1
-1 0 1;
#X obj 467 540 tgl 15 0 all-play empty all 17 7 0 10 -262144 -1 -1
0 1;
#X connect 0 0 2 0;
#X connect 0 1 3 0;
#X connect 2 0 1 0;
#X connect 2 0 4 0;
#X connect 4 0 5 0;
#X connect 7 0 6 0;
#X connect 7 0 6 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 16 0;
#X connect 16 0 6 0;
#X connect 16 0 6 1;
#X connect 17 0 16 1;
#X connect 18 0 22 0;
#X connect 19 0 21 0;
#X connect 20 0 21 1;
#X connect 20 0 22 1;
#X connect 21 0 6 0;
#X connect 22 0 6 1;
#X connect 23 0 26 0;
#X connect 24 0 27 0;
#X connect 25 0 26 1;
#X connect 25 0 27 1;
#X connect 26 0 6 0;
#X connect 27 0 6 1;
#X coords 0 855 1 854 40 20 0;
